diff --git a/libfaac/Makefile.am b/libfaac/Makefile.am
index 6211c82..044b372 100644
--- a/libfaac/Makefile.am
+++ b/libfaac/Makefile.am
@@ -6,18 +6,14 @@ if CPUSSE
 common_CFLAGS += -msse2
 endif
 
-if USE_DRM
-lib_LTLIBRARIES = libfaac_drm.la
+lib_LTLIBRARIES = libfaac_drm.la libfaac.la
 libfaac_drm_la_SOURCES = ${common_SOURCES} ${common_INCLUDES} kiss_fft/kiss_fftr.c kiss_fft/kiss_fft.c kiss_fft/kiss_fft.h
 EXTRA_libfaac_drm_la_SOURCES = kiss_fft/_kiss_fft_guts.h kiss_fft/kiss_fftr.h kiss_fft/README kiss_fft/README.kiss_fft
 libfaac_drm_la_LIBADD = ${common_LIBADD}
 libfaac_drm_la_CFLAGS = ${common_CFLAGS} -DDRM
-else
-lib_LTLIBRARIES = libfaac.la
 libfaac_la_SOURCES = ${common_SOURCES} ${common_INCLUDES}
 libfaac_la_LIBADD = ${common_LIBADD}
 libfaac_la_CFLAGS = ${common_CFLAGS}
-endif
 
 libfaac_la_LDFLAGS = -no-undefined
 if MINGW
diff --git a/libfaac/Makefile.in b/libfaac/Makefile.in
index 6211c82..044b372 100644
--- a/libfaac/Makefile.in
+++ b/libfaac/Makefile.in
@@ -130,12 +130,7 @@ am__uninstall_files_from_dir = { \
 am__installdirs = "$(DESTDIR)$(libdir)"
 LTLIBRARIES = $(lib_LTLIBRARIES)
 am__DEPENDENCIES_1 =
-@USE_DRM_FALSE@libfaac_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
-am__libfaac_la_SOURCES_DIST = bitstream.c fft.c frame.c blockswitch.c \
-	util.c channels.c filtbank.c tns.c quantize.c huff2.c \
-	huffdata.c stereo.c channels.h filtbank.h blockswitch.h \
-	coder.h frame.h tns.h bitstream.h fft.h util.h quantize.h \
-	huffdata.h huff2.h stereo.h
+libfaac_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am__objects_1 = libfaac_la-bitstream.lo libfaac_la-fft.lo \
 	libfaac_la-frame.lo libfaac_la-blockswitch.lo \
 	libfaac_la-util.lo libfaac_la-channels.lo \
@@ -143,8 +138,7 @@ am__objects_1 = libfaac_la-bitstream.lo
 	libfaac_la-quantize.lo libfaac_la-huff2.lo \
 	libfaac_la-huffdata.lo libfaac_la-stereo.lo
 am__objects_2 =
-@USE_DRM_FALSE@am_libfaac_la_OBJECTS = $(am__objects_1) \
-@USE_DRM_FALSE@	$(am__objects_2)
+am_libfaac_la_OBJECTS = $(am__objects_1) $(am__objects_2)
 libfaac_la_OBJECTS = $(am_libfaac_la_OBJECTS)
 AM_V_lt = $(am__v_lt_@AM_V@)
 am__v_lt_ = $(am__v_lt_@AM_DEFAULT_V@)
@@ -153,14 +147,7 @@ am__v_lt_1 =
 libfaac_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(libfaac_la_CFLAGS) \
 	$(CFLAGS) $(libfaac_la_LDFLAGS) $(LDFLAGS) -o $@
-@USE_DRM_FALSE@am_libfaac_la_rpath = -rpath $(libdir)
-@USE_DRM_TRUE@libfaac_drm_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
-am__libfaac_drm_la_SOURCES_DIST = bitstream.c fft.c frame.c \
-	blockswitch.c util.c channels.c filtbank.c tns.c quantize.c \
-	huff2.c huffdata.c stereo.c channels.h filtbank.h \
-	blockswitch.h coder.h frame.h tns.h bitstream.h fft.h util.h \
-	quantize.h huffdata.h huff2.h stereo.h kiss_fft/kiss_fftr.c \
-	kiss_fft/kiss_fft.c kiss_fft/kiss_fft.h
+libfaac_drm_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
 am__objects_3 = libfaac_drm_la-bitstream.lo libfaac_drm_la-fft.lo \
 	libfaac_drm_la-frame.lo libfaac_drm_la-blockswitch.lo \
 	libfaac_drm_la-util.lo libfaac_drm_la-channels.lo \
@@ -168,18 +155,14 @@ am__objects_3 = libfaac_drm_la-bitstream
 	libfaac_drm_la-quantize.lo libfaac_drm_la-huff2.lo \
 	libfaac_drm_la-huffdata.lo libfaac_drm_la-stereo.lo
 am__dirstamp = $(am__leading_dot)dirstamp
-@USE_DRM_TRUE@am_libfaac_drm_la_OBJECTS = $(am__objects_3) \
-@USE_DRM_TRUE@	$(am__objects_2) \
-@USE_DRM_TRUE@	kiss_fft/libfaac_drm_la-kiss_fftr.lo \
-@USE_DRM_TRUE@	kiss_fft/libfaac_drm_la-kiss_fft.lo
-am__EXTRA_libfaac_drm_la_SOURCES_DIST = kiss_fft/_kiss_fft_guts.h \
-	kiss_fft/kiss_fftr.h kiss_fft/README kiss_fft/README.kiss_fft
+am_libfaac_drm_la_OBJECTS = $(am__objects_3) $(am__objects_2) \
+	kiss_fft/libfaac_drm_la-kiss_fftr.lo \
+	kiss_fft/libfaac_drm_la-kiss_fft.lo
 libfaac_drm_la_OBJECTS = $(am_libfaac_drm_la_OBJECTS)
 libfaac_drm_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
 	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(libfaac_drm_la_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o \
 	$@
-@USE_DRM_TRUE@am_libfaac_drm_la_rpath = -rpath $(libdir)
 AM_V_P = $(am__v_P_@AM_V@)
 am__v_P_ = $(am__v_P_@AM_DEFAULT_V@)
 am__v_P_0 = false
@@ -216,9 +199,8 @@ am__v_CCLD_0 = @echo "  CCLD    " $@;
 am__v_CCLD_1 = 
 SOURCES = $(libfaac_la_SOURCES) $(libfaac_drm_la_SOURCES) \
 	$(EXTRA_libfaac_drm_la_SOURCES)
-DIST_SOURCES = $(am__libfaac_la_SOURCES_DIST) \
-	$(am__libfaac_drm_la_SOURCES_DIST) \
-	$(am__EXTRA_libfaac_drm_la_SOURCES_DIST)
+DIST_SOURCES = $(libfaac_la_SOURCES) $(libfaac_drm_la_SOURCES) \
+	$(EXTRA_libfaac_drm_la_SOURCES)
 am__can_run_installinfo = \
   case $$AM_UPDATE_INFO_DIR in \
     n|no|NO) false;; \
@@ -358,7 +340,6 @@ pdfdir = @pdfdir@
 prefix = @prefix@
 program_transform_name = @program_transform_name@
 psdir = @psdir@
-runstatedir = @runstatedir@
 sbindir = @sbindir@
 sharedstatedir = @sharedstatedir@
 srcdir = @srcdir@
@@ -371,15 +352,14 @@ common_SOURCES = bitstream.c fft.c frame
 common_INCLUDES = channels.h filtbank.h blockswitch.h coder.h frame.h tns.h bitstream.h fft.h util.h quantize.h huffdata.h huff2.h stereo.h
 common_LIBADD = -lm
 common_CFLAGS = -fvisibility=hidden $(am__append_1)
-@USE_DRM_FALSE@lib_LTLIBRARIES = libfaac.la
-@USE_DRM_TRUE@lib_LTLIBRARIES = libfaac_drm.la
-@USE_DRM_TRUE@libfaac_drm_la_SOURCES = ${common_SOURCES} ${common_INCLUDES} kiss_fft/kiss_fftr.c kiss_fft/kiss_fft.c kiss_fft/kiss_fft.h
-@USE_DRM_TRUE@EXTRA_libfaac_drm_la_SOURCES = kiss_fft/_kiss_fft_guts.h kiss_fft/kiss_fftr.h kiss_fft/README kiss_fft/README.kiss_fft
-@USE_DRM_TRUE@libfaac_drm_la_LIBADD = ${common_LIBADD}
-@USE_DRM_TRUE@libfaac_drm_la_CFLAGS = ${common_CFLAGS} -DDRM
-@USE_DRM_FALSE@libfaac_la_SOURCES = ${common_SOURCES} ${common_INCLUDES}
-@USE_DRM_FALSE@libfaac_la_LIBADD = ${common_LIBADD}
-@USE_DRM_FALSE@libfaac_la_CFLAGS = ${common_CFLAGS}
+lib_LTLIBRARIES = libfaac_drm.la libfaac.la
+libfaac_drm_la_SOURCES = ${common_SOURCES} ${common_INCLUDES} kiss_fft/kiss_fftr.c kiss_fft/kiss_fft.c kiss_fft/kiss_fft.h
+EXTRA_libfaac_drm_la_SOURCES = kiss_fft/_kiss_fft_guts.h kiss_fft/kiss_fftr.h kiss_fft/README kiss_fft/README.kiss_fft
+libfaac_drm_la_LIBADD = ${common_LIBADD}
+libfaac_drm_la_CFLAGS = ${common_CFLAGS} -DDRM
+libfaac_la_SOURCES = ${common_SOURCES} ${common_INCLUDES}
+libfaac_la_LIBADD = ${common_LIBADD}
+libfaac_la_CFLAGS = ${common_CFLAGS}
 libfaac_la_LDFLAGS = -no-undefined $(am__append_2)
 AM_CPPFLAGS = -I$(top_srcdir)/include
 all: all-am
@@ -452,7 +432,7 @@ clean-libLTLIBRARIES:
 	}
 
 libfaac.la: $(libfaac_la_OBJECTS) $(libfaac_la_DEPENDENCIES) $(EXTRA_libfaac_la_DEPENDENCIES) 
-	$(AM_V_CCLD)$(libfaac_la_LINK) $(am_libfaac_la_rpath) $(libfaac_la_OBJECTS) $(libfaac_la_LIBADD) $(LIBS)
+	$(AM_V_CCLD)$(libfaac_la_LINK) -rpath $(libdir) $(libfaac_la_OBJECTS) $(libfaac_la_LIBADD) $(LIBS)
 kiss_fft/$(am__dirstamp):
 	@$(MKDIR_P) kiss_fft
 	@: > kiss_fft/$(am__dirstamp)
@@ -465,7 +445,7 @@ kiss_fft/libfaac_drm_la-kiss_fft.lo: kis
 	kiss_fft/$(DEPDIR)/$(am__dirstamp)
 
 libfaac_drm.la: $(libfaac_drm_la_OBJECTS) $(libfaac_drm_la_DEPENDENCIES) $(EXTRA_libfaac_drm_la_DEPENDENCIES) 
-	$(AM_V_CCLD)$(libfaac_drm_la_LINK) $(am_libfaac_drm_la_rpath) $(libfaac_drm_la_OBJECTS) $(libfaac_drm_la_LIBADD) $(LIBS)
+	$(AM_V_CCLD)$(libfaac_drm_la_LINK) -rpath $(libdir) $(libfaac_drm_la_OBJECTS) $(libfaac_drm_la_LIBADD) $(LIBS)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
